
FROM python:3.7

COPY requirements.txt requirements.txt

RUN pip install -r requirements.txt

RUN mkdir /code
COPY . /code
WORKDIR /code/boardgamebro

EXPOSE 8000

ENV SECRET_KEY=abc
ENV ALLOWED_HOSTS=['*']
ENV INTERNAL_IPS=['127.0.0.1']
# REDDIT
ENV SOCIAL_AUTH_REDDIT_KEY=O0B8yj0zn6wtGw
ENV SOCIAL_AUTH_REDDIT_SECRET=wSMxCXkL-ijv5gHQi-XuwcXa2eo
# GOOGLE
ENV SOCIAL_AUTH_GOOGLE_OAUTH2_KEY=656528297976-5995vsnrrh1lfk6t2mfptibrc3faggd6.apps.googleusercontent.com
ENV SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET=mQZFQ2OFIH0qTXdPMGuD8vj1
# DISCORD
ENV SOCIAL_AUTH_DISCORD_KEY=556995189542223872
ENV SOCIAL_AUTH_DISCORD_SECRET=Ju-EsScYEXZB3UXZ_QSEtgdMqR_AZDmm


CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]

EXPOSE 3031
EXPOSE 9191

